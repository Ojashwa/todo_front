(this.webpackJsonpfrontapp=this.webpackJsonpfrontapp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(2),c=n.n(a),s=n(5),o=n.n(s),r=(n(15),n(4)),d=n(6),l=n(7),u=n(1),f=n(9),h=n(8),b=(n(16),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={todoList:[],activeItem:{id:null,title:"",completed:!1},editing:!1},i.fetchTask=i.fetchTask.bind(Object(u.a)(i)),i.handelChange=i.handelChange.bind(Object(u.a)(i)),i.addTask=i.addTask.bind(Object(u.a)(i)),i.getCsrf=i.getCsrf.bind(Object(u.a)(i)),i.infoIcon=i.infoIcon.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchTask()}},{key:"fetchTask",value:function(e){var t=this;console.log("featching....."),fetch("http://127.0.0.1:8000/api/task-list/").then((function(e){return e.json()})).then((function(e){return t.setState({todoList:e})}))}},{key:"getCsrf",value:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=n[i].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}},{key:"addTask",value:function(e){e.preventDefault();var t=document.getElementById("list-wrapper"),n=document.createElement("div");n.setAttribute("class","row"),n.setAttribute("id","new-task"),n.insertAdjacentHTML("afterbegin","<div class='col-sm-1'><i class='far fa-circle'></i>&nbsp;</div><div class='col-sm-11 task-wrapper flex-wrapper' id='new-inp'></div>");var i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("class","task-input flex-wrapper"),n.childNodes[1].appendChild(i),t.appendChild(n),i.focus(),i.addEventListener("keyup",this.handelChange,!1)}},{key:"infoIcon",value:function(e){document.getElementById("info").insertAdjacentElement("afterbegin",'<i class="fas fa-info-circle"></i>')}},{key:"handelChange",value:function(e){var t=this;if(this.setState({activeItem:Object(r.a)(Object(r.a)({},this.state.activeItem),{},{title:e.target.value})}),13===e.keyCode){var n=this.getCsrf("csrftoken");fetch("http://127.0.0.1:8000/api/task-create/",{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify(this.state.activeItem)}).then((function(e){t.setState({activeItem:{id:null,title:"",completed:!1}}),document.getElementById("submit").click()})).catch((function(e){console.log("ERROR",e)}))}}},{key:"render",value:function(){var e=this.state.todoList;return Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("div",{id:"task-container",children:Object(i.jsxs)("div",{id:"form-wrapper",children:[Object(i.jsxs)("div",{className:"row head",children:[Object(i.jsx)("div",{className:"col-sm-6",children:Object(i.jsx)("h2",{children:"Todo"})}),Object(i.jsx)("div",{className:"col-sm-6",children:Object(i.jsx)("button",{type:"button",id:"submit",onClick:this.addTask,className:"btn btn-secondary",children:Object(i.jsx)("i",{className:"fas fa-plus-square"})})})]}),Object(i.jsx)("div",{id:"list-wrapper",children:e.map((function(e,t){return Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-sm-1",children:[Object(i.jsx)("i",{className:"far fa-circle"}),"\xa0"]}),Object(i.jsx)("div",{className:"col-sm-10 task-wrapper flex-wrapper",id:"t-info",children:Object(i.jsx)("p",{style:{fontSize:"20px"},children:e.title})}),Object(i.jsx)("div",{className:"col-sm-1"})]},t)}))})]})})})}}]),n}(c.a.Component)),p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),c(e),s(e)}))};o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("todo")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.4c272e58.chunk.js.map